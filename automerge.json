{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "Use default automerge settings.",
  "extends": [
    ":automergeBranch",
    ":automergeRequireAllStatusChecks",
    "github>bfra-me/renovate-config:automerge/all-update-types-except-major#v2.3.6"
  ],
  "automergeStrategy": "squash",

  "default": {
    "extends": ["github>bfra-me/renovate-config:automerge#v2.3.6"]
  },

  "enabled": {
    "automerge": true,
    "addLabels": ["automerge"],
    "azureAutoApprove": true,
    "gitLabAutomerge": true,
    "gitLabIgnoreApprovals": true,
    "assignAutomerge": false,
    "assigneesFromCodeOwners": false,
    "dependencyDashboardApproval": false,
    "reviewersFromCodeOwners": false
  },

  "all-update-types-except-major": {
    "description": "Automerge all update types except `major` and unstable (`0.x.x`) versions.",
    "packageRules": [
      {
        "matchUpdateTypes": ["patch", "pin", "pinDigest", "digest"],
        "extends": ["github>bfra-me/renovate-config:automerge/enabled#v2.3.6"],
        "separateMinorPatch": true
      },
      {
        "matchUpdateTypes": ["minor"],
        "matchCurrentVersion": "!/^0\\./",
        "extends": ["github>bfra-me/renovate-config:automerge/enabled#v2.3.6"]
      }
    ]
  },

  "prForCI": {
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "description": "Optimize settings for GitHub merge queues.",
    "automergeType": "pr",
    "prCreation": "immediate",
    "platformAutomerge": true
  }
}
