{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",

  "extends": ["github>bfra-me/renovate-config:group/_{{arg0}}"],

  "default": {
    "description": ["Use default group preset settings."],
    "extends": [
      "github>bfra-me/renovate-config:group/eslint",
      "github>bfra-me/renovate-config:group/github-actions",
      "github>bfra-me/renovate-config:group/jest",
      "github>bfra-me/renovate-config:group/octokit",
      "github>bfra-me/renovate-config:group/prettier",
      "github>bfra-me/renovate-config:group/react",
      "github>bfra-me/renovate-config:group/rollup",
      "github>bfra-me/renovate-config:group/types",
      "github>bfra-me/renovate-config:group/vite"
    ]
  },

  "eslint": {
    "description": ["Group ESLint and related packages together."],
    "packageRules": [
      {
        "extends": ["packages:eslint"],
        "groupName": "eslint packages",
        "excludePackageNames": ["eslint-config-next"],
        "excludePackagePrefixes": ["@typecript-eslint/"]
      },
      {
        "groupName": "eslint packages",
        "matchPackageNames": ["eslint-config-next"],
        "matchPackagePrefixes": ["@typecript-eslint/"],
        "matchUpdateTypes": ["digest", "patch", "minor", "pin"]
      },
      {
        "groupName": "typescript-eslint monorepo",
        "matchSourceUrls": [
          "https://github.com/typescript-eslint/typescript-eslint"
        ],
        "matchUpdateTypes": ["major"]
      }
    ]
  },

  "github-actions": {
    "description": "Group GitHub Actions updates together.",
    "extends": [
      "github>bfra-me/renovate-config:group(github-artifact-actions-major-updates)"
    ],
    "packageRules": [
      {
        "groupName": "GitHub Actions",
        "matchManagers": ["github-actions"],
        "matchUpdateTypes": ["digest", "minor", "patch", "pin"]
      }
    ]
  },

  "_github-artifact-actions-major-updates": {
    "description": "Group major updates of GitHub artifact Actions together.",
    "packageRules": [
      {
        "groupName": "GitHub artifact Actions",
        "matchPackageNames": [
          "actions/download-artifact",
          "actions/upload-artifact"
        ],
        "matchUpdateTypes": ["major"]
      }
    ]
  },

  "jest": {
    "description": ["Group Jest and related packages together."],
    "ignorePresets": [
      "group:jestMonorepo",
      "group:jestPlusTypes",
      "group:jestPlusTsJest",
      "monorepo:jest",
      "packages:jsUnitTest",
      "packages:unitTest"
    ],
    "packageRules": [
      {
        "groupName": "Jest packages",
        "matchSourceUrls": [
          "https://github.com/facebook/jest",
          "https://github.com/jestjs/jest"
        ]
      },
      {
        "groupName": "Jest packages",
        "matchPackageNames": ["ts-jest"],
        "matchPackagePrefixes": ["jest-"]
      },
      {
        "groupName": "Jest packages",
        "matchPackageNames": ["@types/jest"],
        "matchPackagePrefixes": ["@types/jest-"],
        "matchUpdateTypes": ["digest", "patch", "minor", "major"]
      },
      {
        "groupName": "Jest packages",
        "matchSourceUrls": ["https://github.com/kulshekhar/ts-jest"],
        "matchUpdateTypes": ["major"]
      }
    ]
  },

  "octokit": {
    "description": ["Group Octokit packages together."],
    "packageRules": [
      {
        "groupName": "Octokit packages",
        "matchSourceUrlPrefixes": ["https://github.com/octokit/"]
      }
    ]
  },

  "prettier": {
    "description": ["Group Prettier packages together."],
    "packageRules": [
      {
        "groupName": "Prettier packages",
        "matchPackageNames": ["prettier"],
        "matchPackagePatterns": ["^@prettier\\/", "^prettier-plugin-"]
      }
    ]
  },

  "react": {
    "description": ["Group React and related packages together."],
    "packageRules": [
      {
        "groupName": "react monorepo",
        "matchPackageNames": [
          "@types/react",
          "@types/react-dom",
          "@types/react-test-renderer",
          "@types/react-is",
          "@types/scheduler"
        ]
      }
    ]
  },

  "rollup": {
    "description": ["Group Rollup and related packages together."],
    "packageRules": [
      {
        "groupName": "rollup packages",
        "matchPackagePatterns": ["^rollup"],
        "matchPackagePrefixes": ["@rollup"]
      }
    ]
  },

  "types": {
    "description": ["Group <code>@types</code> dependencies together."],
    "packageRules": [
      {
        "groupName": "@types packages",
        "matchDepTypes": ["devDependencies"],
        "matchManagers": ["npm"],
        "matchPackagePrefixes": ["@types/"],
        "matchUpdateTypes": ["minor", "patch"],
        "matchCurrentVersion": ">1.0.0",
        "excludePackagePrefixes": ["@types/d3-", "@types/jest-"],
        "excludePackageNames": [
          "@types/jest",
          "@types/react",
          "@types/react-dom",
          "@types/react-is",
          "@types/react-test-renderer",
          "@types/scheduler",
          "@types/yargs",
          "@types/yargs-parser"
        ]
      },
      {
        "groupName": "@types packages",
        "matchDepTypes": ["devDependencies"],
        "matchManagers": ["npm"],
        "matchPackagePrefixes": ["@types/"],
        "matchUpdateTypes": ["patch"],
        "matchCurrentVersion": "0.x"
      }
    ]
  },

  "vite": {
    "description": ["Group all Vite related packages together."],
    "packageRules": [
      {
        "description": "All Vite related packages",
        "groupName": "Vite packages",
        "matchDatasources": ["npm"],
        "matchPackagePatterns": ["^vite$", "vite-plugin", "@vitejs"]
      }
    ]
  }
}
