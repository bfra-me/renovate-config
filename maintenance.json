{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "Include default config presets for repository maintenance.",
  "extends": [
    ":rebaseStalePrs",
    ":prNotPending",
    ":prHourlyLimitNone",
    ":updateNotScheduled",
    "github>bfra-me/renovate-config:maintenance/security#v2.3.4"
  ],
  "addLabels": ["dependencies"],

  "configMigration": true,
  "configWarningReuseIssue": false,

  "dependencyDashboardTitle": "Renovate Dashboard",

  "prConcurrentLimit": 5,
  "recreateClosed": true,

  "assigneesFromCodeOwners": true,
  "assigneesSampleSize": 1,
  "reviewersFromCodeOwners": true,
  "reviewersSampleSize": 1,

  "timezone": "America/Phoenix",

  "default": {"extends": ["github>bfra-me/renovate-config:maintenance#v2.3.4"]},

  "dashboardApprovalForMajorUpdates": {
    "description": "Enable dependency dashboard approval for major updates.",
    "packageRules": [
      {
        "matchUpdateTypes": ["major"],
        "dependencyDashboardApproval": true,
        "dependencyDashboardLabels": ["approval-pending"]
      }
    ]
  },

  "pinGitHubActionDigestsToSemver": {
    "description": "Pin GitHub Action digests to semver versions.",
    "packageRules": [
      {
        "extends": ["helpers:pinGitHubActionDigests"],
        "excludeDepPatterns": [
          "^elstudio/actions-settings(\\/.*)?$",
          "^exivity/actions(\\/.*)?$"
        ],
        "extractVersion": "^(?<version>v?\\d+\\.\\d+\\.\\d+)$",
        "versioning": "regex:^v?(?<major>\\d+)(\\.(?<minor>\\d+))?(\\.(?<patch>\\d+))?$"
      }
    ]
  },

  "security": {
    "description": "Enable security updates from vulnerability alerts.",
    "extends": [":enableVulnerabilityAlertsWithLabel(security)"],
    "dependencyDashboardOSVVulnerabilitySummary": "all",
    "osvVulnerabilityAlerts": true
  },

  "weeklyLockFileUpdates": {
    "description": "Perform lock file maintenance every week.",
    "lockFileMaintenance": {
      "enabled": true,
      "schedule": ["before 6am on Monday"],
      "addLabels": ["scheduled"],
      "prBodyDefinitions": {
        "Change": "All lock files updated (every Monday before 6 AM)"
      },
      "extends": ["github>bfra-me/renovate-config:automerge/enabled#v2.3.4"]
    }
  },

  "internal": {
    "description": "Internal Renovate configuration for @bfra-me.",
    "extends": [
      "github>bfra-me/renovate-config:maintenance/pinGitHubActionDigestsToSemver#v2.3.4",
      "github>bfra-me/renovate-config:vendors/elstudio#v2.3.4"
    ]
  }
}
